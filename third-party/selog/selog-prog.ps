%!PS-Adobe-3.0
%%Creator: groff version 1.19
%%CreationDate: Thu Apr 10 13:20:03 2008
%%DocumentNeededResources: font Times-Roman
%%+ font Times-Bold
%%+ font Times-Italic
%%DocumentSuppliedResources: procset grops 1.19 0
%%Pages: 6
%%PageOrder: Ascend
%%DocumentMedia: Default 595 842 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.19 0
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/Fr{
setrgbcolor fill
}bind def
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
/Fg{
setgray fill
}bind def
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
/setpagedevice{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%BeginFeature: *PageSize Default
<< /PageSize [ 595 842 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Italic
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 841.89 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron
/Zcaron/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Italic@0 ENC0/Times-Italic RE/Times-Bold@0 ENC0/Times-Bold RE
/Times-Roman@0 ENC0/Times-Roman RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 383.235(selog\(3\) selog\(3\))72 48 R/F1 10.95
/Times-Bold@0 SF -.219(NA)72 84 S(ME).219 E F0(selog \255 selecti)108 96
Q .3 -.15(ve l)-.25 H(ogging).15 E F1(LIBRAR)72 112.8 Q(Y)-.383 E F0
(Selecti)108 124.8 Q .3 -.15(ve l)-.25 H
(ogging core library \(libselog, \255lselog\)).15 E(Replacement err/w)
108 136.8 Q(arn implementation \(libselog_err)-.1 E 2.5<2cad>-.4 G
(lselog_err\))-2.5 E(Replacement syslog implementation \(libselog_syslo\
g, \255lselog_syslog\))108 148.8 Q F1(SYNOPSIS)72 165.6 Q/F2 10
/Times-Bold@0 SF(#include)108 177.6 Q F0(<stdar)2.5 E(g.h>)-.18 E F2
(#include)108 189.6 Q F0(<stdbool.h>)2.5 E F2(#include)108 201.6 Q F0
(<stddef.h>)2.5 E F2(#include)108 218.4 Q F0(<selog.h>)2.5 E F2
(typedef struct selog_selector)108 235.2 Q F0(selog_selector)4.48 E F2
([1];)A(typedef struct selog_b)108 247.2 Q(uffer)-.2 E F0(selog_b)10.78
E(uf)-.2 E(fer)-.25 E F2([1];)A/F3 10/Times-Italic@0 SF
(/* initialization */)109.15 268.8 Q F2(selog_selector)108 280.8 Q F3
(sel)2.84 E F0 2.5(=S)2.5 G(ELINIT\()-2.5 E F3(name).36 E F0(,).18 E F3
(le)2.59 E(vel)-.15 E F0(\);).51 E F2(int)108 292.8 Q F0(selog_open)2.5
E F2(\(const char *)A F3(conf).2 E(ig)-.2 E F2 2.5(,c).22 G
(onst char *const)-2.5 E F3(spelling)2.84 E F2([]\);).22 E F3
(/* simple output */)109.15 309.6 Q F2 -.1(vo)108 321.6 S(id).1 E F0
(selog)2.5 E F2(\(selog_selector)A F3(sel)2.5 E F2 2.5(,c).51 G
(onst char *)-2.5 E F3(fmt)1.97 E F2 2.5(,.).68 G(..\);)-2.5 E -.1(vo)
108 333.6 S(id).1 E F0(selogerr)2.5 E F2(\(selog_selector)A F3(sel)2.5 E
F2 2.5(,c).51 G(onst char *)-2.5 E F3(fmt)1.97 E F2 2.5(,.).68 G(..\);)
-2.5 E F3(/* comple)109.15 350.4 Q 2.5(xm)-.2 G(essa)-2.5 E -.1(ge)-.1 G
2.5(s*).1 G(/)-2.5 E F2(bool)108 362.4 Q F0(selog_on)2.5 E F2
(\(selog_selector)A F3(sel)2.5 E F2(\);).51 E -.1(vo)108 374.4 S(id).1 E
F0(selog_b)2.5 E(uf)-.2 E(init)-.2 E F2(\(selog_b)A(uffer)-.2 E F3 -.2
(bu)2.5 G(f).2 E F2 2.5(,s)1.96 G(elog_selector)-2.5 E F3(sel)2.84 E F2
(\);).51 E -.1(vo)108 386.4 S(id).1 E F0(selog_prep)2.5 E F2(\(selog_b)A
(uffer)-.2 E F3 -.2(bu)2.5 G(f).2 E F2 2.5(,s)1.96 G(elog_selector)-2.5
E F3(sel)2.84 E F2(\);).51 E -.1(vo)108 398.4 S(id).1 E F0(selog_add)2.5
E F2(\(selog_b)A(uffer)-.2 E F3 -.2(bu)2.5 G(f).2 E F2 2.5(,c)1.96 G
(onst char *)-2.5 E F3(fmt)1.97 E F2 2.5(,.).68 G(..\);)-2.5 E -.1(vo)
108 410.4 S(id).1 E F0(selog_addv)2.5 E F2(\(selog_b)A(uffer)-.2 E F3
-.2(bu)2.5 G(f).2 E F2 2.5(,c)1.96 G(onst char *)-2.5 E F3(fmt)1.97 E F2
2.5(,v).68 G(a_list)-2.6 E F3(ap)2.83 E F2(\);).19 E -.1(vo)108 422.4 S
(id).1 E F0(selog_addopt)2.5 E F2(\(selog_selector)A 2.5(,s)-.92 G
(elog_b)-2.5 E(uffer)-.2 E 2.5(,c)-.92 G(onst char *)-2.5 E F3(fmt)1.97
E F2 2.5(,.).68 G(..\);)-2.5 E -.1(vo)108 434.4 S(id).1 E F0
(selog_write)2.5 E F2(\(selog_b)A(uffer)-.2 E F3 -.2(bu)2.5 G(f).2 E F2
(\);)1.96 E F3(/* selector inspection */)109.15 451.2 Q F2(const char *)
108 463.2 Q F0(selog_name)A F2(\(selog_selector)A F3(sel)2.5 E F2(\);)
.51 E(const char *)108 475.2 Q F0(selog_le)A -.15(ve)-.25 G(l).15 E F2
(\(selog_selector)A F3(sel)2.5 E F2(\);).51 E(unsigned int)108 487.2 Q
F0(SELOG_LEVEL)2.5 E F2(\(selog_selector)A F3(sel)2.5 E F2(\);).51 E
(unsigned int)108 499.2 Q F0(SELOG_EXITV)2.5 E(AL)-1.35 E F2
(\(selog_selector)A F3(sel)2.5 E F2(\);).51 E(unsigned int)108 511.2 Q
F0(selog_parse_le)2.5 E -.15(ve)-.25 G(l).15 E F2(\(const char *)A F3
(str).34 E F2 2.5(,s).73 G(ize_t)-2.5 E F3(len)2.59 E F2(\);).24 E F3
(/* deb)109.15 528 Q(ug macr)-.2 E(os */)-.45 E F2 -.1(vo)108 540 S(id)
.1 E F0(selassert)2.5 E F2(\(selog_selector)A F3(sel)2.5 E F2 2.5(,b).51
G(ool)-2.5 E F3(pr)3.75 E(ed)-.37 E F2 2.5(,c).77 G(onst char *)-2.5 E
F3(fmt)1.97 E F2 2.5(,.).68 G(..\);)-2.5 E -.1(vo)108 552 S(id).1 E F0
(seltrace)2.5 E F2(\(selog_selector)A F3(sel)2.5 E F2 2.5(,c).51 G
(onst char *)-2.5 E F3(fmt)1.97 E F2 2.5(,.).68 G(..\);)-2.5 E F1
(DESCRIPTION)72 568.8 Q F0 .459
(Selog is a library of routines that unif)108 580.8 R .458
(ies error reporting, acti)-.2 F .458(vity logging, and deb)-.25 F .458
(ug tracing.)-.2 F .458(It allo)5.458 F(ws)-.25 E .925
(programmers to gi)108 592.8 R 1.225 -.15(ve t)-.25 H .925
(heir users fle).15 F .925(xible control o)-.15 F -.15(ve)-.15 G 3.425
(rw).15 G .925(hich messages are written and where the)-3.425 F 3.425
(ya)-.15 G(re)-3.425 E(written to.)108 604.8 Q .475
(This manual describes the programmer')108 621.6 R 2.975(si)-.55 G
(nterf)-2.975 E .475
(ace to selog, and the auxiliary libraries that can be used)-.1 F .836
(to replace the standard)108 633.6 R F2(err)3.337 E F0 .837(\(3\) and)B
F2(syslog)3.337 E F0 .837(\(3\) interf)B .837
(acses with implementations based on selog.)-.1 F -.15(Fo)5.837 G 3.337
(ra).15 G(n)-3.337 E -.15(ove)108 645.6 S(rvie).15 E 4.203(wo)-.25 G
4.203(fs)-4.203 G 1.702(elog, details of ho)-4.203 F 4.202(wu)-.25 G
1.702(sers can conf)-4.202 F 1.702(igure it, and ho)-.2 F 4.202(wt)-.25
G 1.702(he output channels beha)-4.202 F -.15(ve)-.2 G 4.202(,s).15 G
(ee)-4.202 E F2(selog)108 657.6 Q F0(\(7\).)A F1(SELECT)72 674.4 Q(ORS)
-.197 E F0 .208(Message output using selog is controlled by message sel\
ectors, and optional parts of messages are con-)108 686.4 R .278
(trolled by option selectors.)108 698.4 R 2.778(Am)5.278 G .278
(essage selector classif)-2.778 F .277
(ies the messages it controls according to a \231cate-)-.2 F .672
(gory\232 and a \231le)108 710.4 R -.15(ve)-.25 G .673
(l\232 which are both def).15 F .673(ined by the programmer)-.2 F 5.673
(.M)-.55 G .673(ultiple selectors can ha)-5.673 F .973 -.15(ve t)-.2 H
.673(he same).15 F(cate)108 722.4 Q(gory or le)-.15 E -.15(ve)-.25 G 2.5
(l. Option).15 F
(selectors are distinguished from message selectors by their le)2.5 E
-.15(ve)-.25 G 2.5(ls).15 G(etting.)-2.5 E .325(As well as their cate)
108 739.2 R .325(gory and le)-.15 F -.15(ve)-.25 G .324
(l, selectors also contain a w).15 F .324(ord of enable flags that is f)
-.1 F .324(illed in at run-)-.2 F 1.398(time based on the user')108
751.2 R 3.899(sc)-.55 G(onf)-3.899 E 3.899(iguration. F)-.2 F 1.399
(or message selectors this determines which channels mes-)-.15 F .918
(sages should be written to, if an)108 763.2 R 4.718 -.65(y. F)-.15 H
.917(or option selectors it determines whether the option is on or of).5
F(f.)-.25 E .644(Once a selector')108 775.2 R 3.144(se)-.55 G .644
(nable w)-3.144 F .645(ord has been initialized, the run-time test to s\
kip disabled messages is v)-.1 F(ery)-.15 E(1)518.275 817.889 Q 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 383.235(selog\(3\) selog\(3\))72 48 R(ef)108 84
Q -.2(fi)-.25 G(cient, so it is reasonable to lea).2 E .3 -.15(ve d)-.2
H(eb).15 E(ugging messages compiled in to production code.)-.2 E
(Finally)108 100.8 Q 4.147(,s)-.65 G 1.647(electors also ha)-4.147 F
1.947 -.15(ve a l)-.2 H(ink).15 E 1.646
(ed list pointer which is used to chain all the conf)-.1 F 1.646
(igured selectors)-.2 F(together)108 112.8 Q 5(.W)-.55 G
(hen selog is reconf)-5 E
(igured this chain is used to reset all the selectors.)-.2 E/F1 10
/Times-Bold@0 SF(Categories)87 129.6 Q F0 3.892(As)108 141.6 S(elector')
-3.892 E 3.892(sc)-.55 G(ate)-3.892 E 1.392(gory is a string that names\
 the kind of messages controlled by the selector)-.15 F 3.892(,o)-.4 G
3.893(rt)-3.892 G(hat)-3.893 E .169
(names the optional message part it controls.)108 153.6 R .168
(The selog conf)5.168 F .168(iguration uses cate)-.2 F .168
(gory names to determine)-.15 F(which selectors are enabled, so the)108
165.6 Q 2.5(ys)-.15 G(hould be meaningful to users.)-2.5 E -.15(Fo)108
182.4 S 2.799(re).15 G .299(xample, a serv)-2.949 F .299(er might ha)
-.15 F .6 -.15(ve a \231)-.2 H .3
(connection\232 selector for messages related to open and closed con-)
.15 F 1.637(nections, and an \231interf)108 194.4 R 1.637
(ace\232 option to determine if the serv)-.1 F(er')-.15 E 4.137(sI)-.55
G 4.137(Pa)-4.137 G 1.636(ddress is logged as well as the)-4.137 F
(client')108 206.4 Q 2.5(so)-.55 G 2.5(nm)-2.5 G(ulti-homed machines.)
-2.5 E 3.028(Ag)108 223.2 S .529(ood name for message selectors is ofte\
n based on the part of the program that emits the messages.)-3.028 F
(This is especially true for deb)108 235.2 Q(ugging messages.)-.2 E F1
(Le)87 252 Q -.1(ve)-.15 G(ls).1 E F0 2.875(As)108 264 S(elector')-2.875
E 2.875(sl)-.55 G -2.15 -.25(ev e)-2.875 H 2.875(ld).25 G(ef)-2.875 E
.375(ines whether it is an option selector or a message selector)-.2 F
2.875(,a)-.4 G .375(nd for message selec-)-2.875 F .285(tors def)108 276
R .286(ines whether it is for error reporting, acti)-.2 F .286
(vity logging, or deb)-.25 F 2.786(ugging. The)-.2 F .286(possible v)
2.786 F .286(alues are as)-.25 F(follo)108 288 Q(ws, in order from lo)
-.25 E(west to highest.)-.25 E F1(SELOG_TRA)108 304.8 Q(CE)-.55 E F0
-.15(Fo)144 316.8 S 4.622(rp).15 G(rogramer)-4.622 E 2.122
(-oriented deb)-.2 F 2.121(ug messages, i.e. for people w)-.2 F 2.121
(orking on the program')-.1 F 4.621(ss)-.55 G(ource)-4.621 E 2.5
(code. The)144 328.8 R F1(seltrace\(\))2.5 E F0
(function is intended for use with)2.5 E/F2 10/Times-Italic@0 SF
(SELOG_TRA)2.83 E(CE)-.3 E F0(selectors.)3.23 E F1(SELOG_DEB)108 345.6 Q
(UG)-.1 E F0 -.15(Fo)144 357.6 S 2.5(ru).15 G(ser)-2.5 E(-oriented deb)
-.2 E(ug messages, i.e. for people dealing with conf)-.2 E
(iguration problems.)-.2 E F1(SELOG_OPTION_OFF)108 374.4 Q F0(or)2.5 E
F1(SELOG_OPTION)2.5 E F0 -.15(Fo)144 386.4 S 2.5(ro).15 G
(ption selectors that are of)-2.5 E 2.5(fb)-.25 G 2.5(yd)-2.5 G(ef)-2.5
E(ault.)-.1 E F1(SELOG_VERBOSE)108 403.2 Q F0 -.15(Fo)144 415.2 S 6.877
(ra).15 G(cti)-6.877 E 4.378
(vity log messages that are not emitted by def)-.25 F 6.878
(ault. Otherwise)-.1 F(equi)6.878 E -.25(va)-.25 G 4.378(lent to).25 F
F2(SELOG_INFO.)144.33 427.2 Q F1(SELOG_OPTION_ON)108 444 Q F0(or)2.5 E
F1(SELOG_DEF)2.5 E -.5(AU)-.9 G -.92(LT).5 G F0 -.15(Fo)144 456 S 2.5
(ro).15 G(ption selectors that are on by def)-2.5 E(ault.)-.1 E F1
(SELOG_INFO)108 472.8 Q F0(The normal le)144 484.8 Q -.15(ve)-.25 G 2.5
(lf).15 G(or acti)-2.5 E(vity log messages.)-.25 E F1(SELOG_NO)108 501.6
Q(TICE)-.4 E F0 -.15(Fo)144 513.6 S 2.704(rm).15 G .204
(ore important acti)-2.704 F .204(vity log messages.)-.25 F .204
(Not normally used, unless the user might w)5.204 F .203(ant dif-)-.1 F
1.668(ferent messages in the same cate)144 525.6 R 1.668
(gory to be written to dif)-.15 F 1.668(ferent output channels.)-.25 F
(Consider)6.669 E(using dif)144 537.6 Q(ferent cate)-.25 E
(gories instead.)-.15 E F1(SELOG_W)108 554.4 Q(ARNING)-1.2 E F0(or)2.5 E
F1(SELOG_W)2.5 E(ARN)-1.2 E F0 -.15(Fo)144 566.4 S 2.5(re).15 G
(rrors that should be f)-2.5 E(ix)-.2 E(ed b)-.15 E
(ut which do not harm functionality)-.2 E(.)-.65 E F1(SELOG_ERR)108
583.2 Q(OR)-.3 E F0 -.15(Fo)144 595.2 S 2.5(re).15 G
(rrors that cause de)-2.5 E(graded functionality)-.15 E(.)-.65 E F1
(SELOG_CRITICAL)108 612 Q F0(or)2.5 E F1(SELOG_CRIT)2.5 E F0 -.15(Fo)144
624 S 2.979(rs).15 G .479(erious errors.)-2.979 F .479(The dif)5.479 F
.479(ference between)-.25 F F2(SELOG_ERR)3.308 E(OR)-.4 E F0(and)3.248 E
F2(SELOG_CRITICAL)3.308 E F0 .478(is simi-)3.508 F(lar to the dif)144
636 Q(ference between)-.25 E F2(SELOG_INFO)2.83 E F0(and)2.77 E F2
(SELOG_NO)2.83 E(TICE.)-.4 E F1(SELOG_ALER)108 652.8 Q(T)-.4 E F0 -.15
(Fo)144 664.8 S 3.655(rs).15 G 1.155
(yslog compatibility; not normally used.)-3.655 F 1.156
(Intended to bring something to the immediate)6.155 F
(notice of the system administrator)144 676.8 Q(.)-.55 E F1
(SELOG_EMERGENCY)108 693.6 Q F0(or)2.5 E F1(SELOG_EMERG)2.5 E F0 -.15
(Fo)144 705.6 S 2.779(rs).15 G .278
(yslog compatibility; not normally used.)-2.779 F .278
(Intended for use when the system is catastrophi-)5.278 F(cally brok)144
717.6 Q(en, so should be reserv)-.1 E(ed for fundamental code lik)-.15 E
2.5(et)-.1 G(he k)-2.5 E(ernel.)-.1 E F1(SELOG_F)108 734.4 Q -1.5 -.95
(AT A)-.9 H(L\().95 E F2(status).34 E F1(\)).27 E F0 .575(Similar to)144
746.4 R F2(SELOG_CRIT)3.405 E F0 -.15(ex)4.345 G .576
(cept that after the message is written the).15 F F2(status)3.416 E F0
.576(code is passed to)3.346 F F1(exit)144 758.4 Q F0 2.5(\(3\). Selog)B
(does not implement its o)2.5 E(wn e)-.25 E(xit hook: you should use)
-.15 E F1(atexit)2.5 E F0(\(3\).)A(2)518.275 817.889 Q 0 Cg EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 383.235(selog\(3\) selog\(3\))72 48 R/F1 10
/Times-Bold@0 SF(SELOG_EXIT)108 84 Q F0(Equi)144 96 Q -.25(va)-.25 G
(lent to).25 E/F2 10/Times-Italic@0 SF(SELOG_F)2.83 E -.37(AT)-1.15 G
(AL\(0\).)-.13 E F1(SELOG_ABOR)108 112.8 Q(T)-.4 E F0 -.15(Fo)144 124.8
S 3.637(rf).15 G 1.137(ailed internal consistenc)-3.737 F 3.636(yc)-.15
G 3.636(hecks. Selog)-3.636 F(calls)3.636 E F1(abort)3.636 E F0 1.136
(\(3\) after writing the message.)B(The)6.136 E F1(selassert\(\))144
136.8 Q F0(function is intended for use with)2.5 E F2(SELOG_ABORT)2.83 E
F0(selectors.)3.77 E(Selog')108 153.6 Q 3.434(sl)-.55 G -2.15 -.25(ev e)
-3.434 H .934(ls are a superset of).25 F F1(syslog)3.435 E F0(\(3\)')A
3.435(ss)-.55 G -2.15 -.25(ev e)-3.435 H 3.435(rities. The).25 F -.15
(ex)3.435 G .935(tensions mostly add more fle).15 F .935(xibility for)
-.15 F 1.879(non-error conditions.)108 165.6 R 1.879(Syslog is rather o)
6.879 F -.15(ve)-.15 G -.2(r-).15 G(endo).2 E 1.879(wed with error le)
-.25 F -.15(ve)-.25 G 4.379(ls. Whether).15 F 1.878(an error is se)4.379
F -.15(ve)-.25 G(re).15 E .153
(enough to merit a \231alert\232 or \231emer)108 177.6 R(genc)-.18 E
.153(y\232 le)-.15 F -.15(ve)-.25 G 2.654(ld).15 G .154
(epends more on the purpose of the system and the pol-)-2.654 F(ic)108
189.6 Q 4.161(yp)-.15 G 1.66(referred by the system administrator than \
on static properties of a program.)-4.161 F 1.66(Selog allo)6.66 F 1.66
(ws the)-.25 F .388(sysadmin to choose ho)108 201.6 R 2.888(wt)-.25 G
2.888(oh)-2.888 G .388(andle messages based on the program and cate)
-2.888 F(gory)-.15 E 2.889(,i)-.65 G .389(nstead of the f)-2.889 F
(acility)-.1 E .075(and se)108 213.6 R -.15(ve)-.25 G .075
(rity as with syslog.).15 F(Selog')5.075 E 2.575(sg)-.55 G .075
(reater fle)-2.575 F .075(xibility allo)-.15 F .074(ws sysadmins to e)
-.25 F .074(xpress their f)-.15 F .074(iltering polic)-.2 F(y)-.15 E
(with fe)108 225.6 Q(wer le)-.25 E -.15(ve)-.25 G(ls than syslog.).15 E
F1(Def)87 242.4 Q(ining selectors)-.25 E F0 1.579
(Selectors are typically def)108 254.4 R 1.579(ined as static v)-.2 F
1.58(ariables with f)-.25 F 1.58(ile scope.)-.2 F 1.58
(\(It is possible to def)6.58 F 1.58(ine selectors)-.2 F(dynamically)108
266.4 Q 3.392(,t)-.65 G .891
(hough you should be careful to re-use selectors and a)-3.392 F -.2(vo)
-.2 G .891(id creating and initializing ne).2 F(w)-.25 E 1.291
(selectors if performance matters.\))108 278.4 R(The)6.291 E F2
(SELINIT\(\))4.121 E F0 1.291(macro is pro)3.851 F 1.292
(vided to initialize selectors correctly)-.15 F(.)-.65 E(The f)108 290.4
Q(irst parameter is the cate)-.2 E(gory and the second is the le)-.15 E
-.15(ve)-.25 G 2.5(l. F).15 F(or e)-.15 E(xample,)-.15 E F1
(selog_selector)144 302.4 Q F0(log_conn)2.5 E F1 2.5(=S)2.5 G
(ELINIT\( \231)-2.5 E F2(connection).2 E F1<9a2c>.24 E F0(SELOG_INFO)2.5
E F1(\);)A(selog_selector)144 314.4 Q F0(opt_if)2.5 E(ace)-.1 E F1 2.5
(=S)2.5 G(ELINIT\( \231)-2.5 E F2(interface).01 E F1<9a2c>.18 E F0
(SELOG_OPTION)2.5 E F1(\);)A F0 .059
(The macro initializer hides the detail that)108 331.2 R F2(selo)2.899 E
(g_selector)-.1 E F0 .059(is an array of one struct.)3.289 F .059
(This trick allo)5.059 F .059(ws you)-.25 F 1.026
(to pass it by reference to functions without an e)108 343.2 R(xplicit)
-.15 E F2(&)3.267 E F0 1.027(address-of operator)3.527 F 3.527(,s)-.4 G
1.027(imilar to the standard)-3.527 F F2(jmp_b)109.74 355.2 Q(uf)-.2 E
F0(type.)4.46 E(Softw)108 372 Q 1.723
(are that creates selectors dynamically \(such as selog')-.1 F 4.223(sL)
-.55 G 1.723(ua interf)-4.223 F 1.723(ace\) can turn a string into a)-.1
F .405(numerical le)108 384 R -.15(ve)-.25 G 2.905(lu).15 G(sing)-2.905
E F1(selog_parse_le)2.905 E -.1(ve)-.15 G(l\(\)).1 E F0 5.405(.T)C .405
(he f)-5.405 F .406(irst ar)-.2 F .406
(gument is a pointer to the string and the second)-.18 F .581
(is its length.)108 396 R .581(The string does not ha)5.581 F .88 -.15
(ve t)-.2 H 3.08(ob).15 G 3.08(en)-3.08 G 3.08(ul-terminated. The)-3.08
F .58(function returns)3.08 F F2(SELOG_NOLEVEL)3.41 E F0
(if the string is not a v)108 408 Q(alid le)-.25 E -.15(ve)-.25 G(l.).15
E F1(Accessor functions)87 424.8 Q F0(The follo)108 436.8 Q
(wing can be used to inspect a selector at run time.)-.25 E F1
(selog_name\()108 453.6 Q F2(sel).34 E F1(\)).51 E F0
(Function that returns the selector')144 465.6 Q 2.5(sc)-.55 G(ate)-2.5
E(gory)-.15 E(.)-.65 E F1(selog_le)108 482.4 Q -.1(ve)-.15 G(l\().1 E F2
(sel).34 E F1(\)).51 E F0 .148(Function that returns the selector')144
494.4 R 2.648(sl)-.55 G -2.15 -.25(ev e)-2.648 H 2.648(la).25 G 2.648
(sas)-2.648 G .149(tring, suitable for use in log message preambles.)
-2.648 F(See)144 506.4 Q F2(selo)2.84 E(g_b)-.1 E(uf)-.2 E(init\(\))-.2
E F0(and)2.56 E F2(selo)2.84 E(g_pr)-.1 E(ep\(\))-.37 E F0(belo)2.56 E
-.65(w.)-.25 G F1(SELOG_LEVEL\()108 523.2 Q F2(sel).34 E F1(\)).51 E F0
(Macro that returns the selector')144 535.2 Q 2.5(sn)-.55 G(umeric le)
-2.5 E -.15(ve)-.25 G(l.).15 E F1(SELOG_EXITV)108 552 Q(AL\()-1.35 E F2
(sel).34 E F1(\)).51 E F0(Macro that returns the e)144 564 Q
(xit status of a)-.15 E F2(SELOG_F)2.83 E -.37(AT)-1.15 G(AL\(\))-.13 E
F0(selector)2.56 E(.)-.55 E F1(selog_on\()108 580.8 Q F2(sel).34 E F1
(\)).51 E F0 1.321(Returns true if the selector is enabled.)144 592.8 R
1.32(Has the side-ef)6.32 F 1.32(fect of initializing the selector')-.25
F 3.82(sf)-.55 G(lag)-3.82 E -.1(wo)144 604.8 S .632(rd if necessary).1
F 5.632(.I)-.65 G .632
(mplemented as both a macro and a function; the macro may e)-5.632 F
-.25(va)-.25 G(luate).25 E F2(sel)3.473 E F0(more than once.)144 616.8 Q
/F3 10.95/Times-Bold@0 SF(SIMPLE MESSA)72 633.6 Q(GE OUTPUT)-.602 E F0
.418(This section describes the functions that allo)108 645.6 R 2.918
(wy)-.25 G .418(ou to write messages that are simple enough to format)
-2.918 F .85(in one step, similar to the)108 657.6 R F1(printf)3.35 E F0
.85(\(3\) and)B F1(syslog)3.35 E F0 .85(\(3\) functions.)B .851
(These functions are def)5.85 F .851(ined with macro)-.2 F 1.263
(wrappers that perform the)108 669.6 R F2(selo)4.103 E(g_on\(\))-.1 E F0
1.262(test in-line for speed, therefore the)3.823 F 3.762(ym)-.15 G
1.262(ay e)-3.762 F -.25(va)-.25 G 1.262(luate the selector).25 F
(more than once.)108 681.6 Q F1(selog\()108 698.4 Q F2(sel).34 E F1(,)
.51 E F2(fmt)4.47 E F1 2.5(,.).68 G(..\))-2.5 E F0 1.122
(The usual message output function.)144 710.4 R 1.122
(Checks that the selector is enabled using)6.122 F F2(selo)3.963 E
(g_on\(sel\))-.1 E F0 .763
(and if so writes the formatted message to the rele)144 722.4 R -.25(va)
-.25 G .762(nt channel\(s\).).25 F .762(The format string is inter)5.762
F(-)-.2 E(preted the same w)144 734.4 Q(ay as by)-.1 E F1(printf)2.5 E
F0(\(3\).)A F1(selogerr\()108 751.2 Q F2(sel).34 E F1(,).51 E F2(fmt)
4.47 E F1 2.5(,.).68 G(..\))-2.5 E F0(Equi)144 763.2 Q -.25(va)-.25 G
(lent to).25 E F2(selo)2.84 E(g\(\))-.1 E F0(with)2.56 E F2<993a209a>
1.34 E F0(and)2.5 E F2(str)2.84 E(err)-.37 E(or\(errno\))-.45 E F0
(appended to the message.)2.56 E(3)518.275 817.889 Q 0 Cg EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 383.235(selog\(3\) selog\(3\))72 48 R/F1 10
/Times-Bold@0 SF(seltrace\()108 84 Q/F2 10/Times-Italic@0 SF(sel).34 E
F1(,).51 E F2(fmt)4.47 E F1 2.5(,.).68 G(..\);)-2.5 E F0(The same as)144
96 Q F2(selo)2.84 E(g\(\),)-.1 E F0 -.15(ex)2.5 G(cept with an e).15 E
(xtended preamble of the form)-.15 E F1<99>180 108 Q F2 -.2(fi)C(le).2 E
F1(:).18 E F2 2.15(line func).09 F F1(\(\)).31 E F2(cate)2.7 E .41
(gory le)-.4 F(vel)-.15 E F1 2.5<3a9a>.51 G F0 1.191
(This macro is intended for use with)144 120 R F2(SELOG_TRA)4.022 E(CE)
-.3 E F0 3.692(selectors. It)4.422 F 1.192(does not ha)3.692 F 1.492
-.15(ve a f)-.2 H(unction).15 E(equi)144 132 Q -.25(va)-.25 G(lent.).25
E F1(selassert\()108 148.8 Q F2(sel).34 E F1(,).51 E F2(pr)3.75 E(ed)
-.37 E F1(,).77 E F2(fmt)4.47 E F1 2.5(,.).68 G(..\);)-2.5 E F0 1.576
(If the predicate is f)144 160.8 R(alse,)-.1 E F2(selassert\(\))4.416 E
F0 1.576(writes the message to the rele)4.136 F -.25(va)-.25 G 1.576
(nt channel\(s\) and calls).25 F F1(abort)144 172.8 Q F0 4.844
(\(3\). The)B 2.345
(message preamble includes trace information and the stringif)4.844 F
2.345(ied predicate)-.2 F -.15(ex)144 184.8 S 2.572(pression. This).15 F
.072(macro is intended for use with)2.572 F F2(SELOG_ABORT)2.902 E F0
2.572(selectors. It)3.842 F .071(does not ha)2.572 F .371 -.15(ve a)-.2
H(function equi)144 196.8 Q -.25(va)-.25 G(lent.).25 E/F3 10.95
/Times-Bold@0 SF(COMPLEX MESSA)72 213.6 Q(GES)-.602 E F0 .508(This sect\
ion describes functions that are used to compose messages in stages.)108
225.6 R -.15(Fo)5.508 G 3.008(re).15 G .508(xample, it is often)-3.158 F
-.15(aw)108 237.6 S(kw).15 E .193
(ard to format a message in one step if it contains optional parts.)-.1
F .193(These f)5.193 F .193(acilities are also useful if)-.1 F .314
(formatting a message requires e)108 249.6 R .314(xtra w)-.15 F .315
(ork that should be skipped if its selector is disabled.)-.1 F .315
(The pattern)5.315 F(to follo)108 261.6 Q 2.5(wi)-.25 G(s:)-2.5 E 32.5
<8343>108 278.4 S(heck that the message')-32.5 E 2.5(ss)-.55 G
(elector is enabled using)-2.5 E F2(selo)2.84 E(g_on\(\).)-.1 E F0 32.5
<8349>108 295.2 S(nitialize a)-32.5 E F2(selo)2.84 E(g_b)-.1 E(uf)-.2 E
(fer)-.18 E F0 -.25(va)3.23 G(riable using).25 E F2(selo)2.84 E(g_pr)-.1
E(ep\(\))-.37 E F0(or)2.56 E F2(selo)2.84 E(g_b)-.1 E(uf)-.2 E
(init\(\).)-.2 E F0 32.5<8343>108 312 S(all)-32.5 E F2(selo)4.378 E
(g_add\(\))-.1 E F0 1.537(or one of its related functions to append eac\
h part of the message to the)4.098 F -.2(bu)144 324 S -.25(ff).2 G(er)
.25 E(.)-.55 E 32.5<8357>108 340.8 S 1.592
(hen the message is complete, call)-32.5 F F2(selo)4.433 E(g_write\(\))
-.1 E F0 1.593(which writes it to the appropriate chan-)4.153 F
(nel\(s\).)144 352.8 Q -.15(Fo)108 369.6 S 2.5(re).15 G(xample,)-2.65 E
F2(selo)2.84 E -.1(ge)-.1 G(rr\(sel, fmt, ...\)).1 E F0(is equi)5.06 E
-.25(va)-.25 G(lent to).25 E F1(if)144 381.6 Q F0(\(selog_on\()2.5 E F2
(sel).34 E F0(\)\)).51 E F1({)2.5 E(selog_b)180 393.6 Q(uffer)-.2 E F0
-.2(bu)2.5 G(f;).2 E(selog_prep\()180 405.6 Q F2 -.2(bu)C(f).2 E F0 2.5
(,s)1.96 G(el\);)-2.5 E(selog_add\(b)180 417.6 Q(uf,)-.2 E F2(fmt)4.47 E
F0 2.5(,.).68 G(..\);)-2.5 E(selog_add\(b)180 429.6 Q(uf,)-.2 E F1
(\231: %s\232)2.5 E F0 2.5(,s)C(trerror\(errno\)\);)-2.5 E
(selog_write\(b)180 441.6 Q(uf\);)-.2 E F1(})144 453.6 Q F0(Lik)108
470.4 Q 3.233(et)-.1 G(he)-3.233 E F2(selo)3.572 E(g_selector)-.1 E F0
.732(type, the)3.962 F F2(selo)3.572 E(g_b)-.1 E(uf)-.2 E(fer)-.18 E F0
.732(type is an array of one struct.)3.962 F .732(This trick allo)5.732
F .732(ws you to)-.25 F(pass it by reference to functions without an e)
108 482.4 Q(xplicit)-.15 E F2(&)2.24 E F0(address-of operator)2.5 E(.)
-.55 E F1(selog_pr)108 499.2 Q(ep\()-.18 E F2 -.2(bu)C(f).2 E F1(,)1.96
E F2(sel)2.84 E F1(\);).51 E F0(The normal b)144 511.2 Q(uf)-.2 E
(fer initialization function.)-.25 E(It is equi)5 E -.25(va)-.25 G
(lent to:).25 E(selog_b)180 523.2 Q(uf)-.2 E(init\()-.2 E F2 -.2(bu)C(f)
.2 E F0(,)1.96 E F2(sel)2.84 E F0(\);).51 E(selog_add\()180 535.2 Q F2
-.2(bu)C(f).2 E F0 2.5<2c99>1.96 G(%s \232, selog_name\()-2.5 E F2(sel)
.34 E F0(\)\);).51 E(selog_add\()180 547.2 Q F2 -.2(bu)C(f).2 E F0 2.5
<2c99>1.96 G(%s: \232, selog_le)-2.5 E -.15(ve)-.25 G(l\().15 E F2(sel)
.34 E F0(\)\);).51 E F1(selog_b)108 564 Q(uf)-.2 E(init\()-.25 E F2 -.2
(bu)C(f).2 E F1(,)1.96 E F2(sel)2.84 E F1(\);).51 E F0 .877
(Initialize the b)144 576 R(uf)-.2 E .877(fer without adding an)-.25 F
3.377(ym)-.15 G .877(essage te)-3.377 F 3.378(xt. This)-.15 F .878
(function does not ha)3.378 F 1.178 -.15(ve a b)-.2 H(uilt-in)-.05 E F2
(selo)144.34 588 Q(g_on\(\))-.1 E F0(guard; the selector ar)2.56 E
(gument is stored in the b)-.18 E(uf)-.2 E(fer for use by)-.25 E F2
(selo)2.84 E(g_write\(\).)-.1 E F0 2.739(If you use)144 604.8 R F2(selo)
5.579 E(g_b)-.1 E(uf)-.2 E(init\(\),)-.2 E F0 2.738
(you should add your o)5.238 F 2.738
(wn message preamble in the style of)-.25 F F2(selo)144.34 616.8 Q(g_pr)
-.1 E(ep\(\).)-.37 E F0 .705(This might be in order to add e)5.705 F
.706(xtra metadata such as the name of the function)-.15 F .906
(that emitted the message, or less metadata if the selector')144 628.8 R
3.406(sc)-.55 G(ate)-3.406 E .906(gory and le)-.15 F -.15(ve)-.25 G
3.406(la).15 G .906(re redundant.)-3.406 F .882
(The information should be ordered from less specif)144 640.8 R .882
(ic to more specif)-.2 F .882(ic, for e)-.2 F .882(xample, see)-.15 F F2
(sel-)3.722 E(tr)144 652.8 Q(ace\(\))-.15 E F0(abo)3.149 E -.15(ve)-.15
G 3.089(,a).15 G .589(nd the \231MESSA)-3.089 F .589(GE FORMA)-.4 F .589
(T\232 section of)-1.11 F F1(selog)3.089 E F0 3.089(\(7\). The)B .588
(preamble should not)3.088 F 1.486(include information that is added by\
 channels, such as the timestamp, host name, program)144 664.8 R
(name, etc.)144 676.8 Q F1(selog_add\()108 693.6 Q F2 -.2(bu)C(f).2 E F1
(,)1.96 E F2(fmt)4.47 E F1 2.5(,.).68 G(..\);)-2.5 E F0
(Append the formatted string to the b)144 705.6 Q(uf)-.2 E(fer)-.25 E(.)
-.55 E F1(selog_addv\()108 722.4 Q F2 -.2(bu)C(f).2 E F1(,)1.96 E F2
(fmt)4.47 E F1(,).68 E F2(ap)2.83 E F1(\);).19 E F0 3.635
(Append the formatted string to the b)144 734.4 R(uf)-.2 E(fer)-.25 E
6.135(,g)-.4 G 3.635(etting the ar)-6.135 F 3.635(guments from a)-.18 F
F2(va_list)6.425 E F0(lik)6.815 E(e)-.1 E F1(vsnprintf)144 746.4 Q F0
(\(3\).)A(4)518.275 817.889 Q 0 Cg EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 383.235(selog\(3\) selog\(3\))72 48 R/F1 10
/Times-Bold@0 SF(selog_addopt\()108 84 Q/F2 10/Times-Italic@0 SF(sel).34
E F1(,).51 E F2 -.2(bu)2.5 G(f).2 E F1(,)1.96 E F2(fmt)4.47 E F1 2.5(,.)
.68 G(..\);)-2.5 E F0(Add an optional part of a message to the b)144 96
Q(uf)-.2 E(fer)-.25 E 2.5(,i)-.4 G 2.5(ft)-2.5 G
(he selector is enabled.)-2.5 E F1(selog_write\()108 112.8 Q F2 -.2(bu)C
(f).2 E F1(\);)1.96 E F0 1.167(Write the message to the rele)144 124.8 R
-.25(va)-.25 G 1.168(nt channel\(s\), determined by the selector that w)
.25 F 1.168(as passed to)-.1 F F2(selo)144.34 136.8 Q(g_pr)-.1 E
(ep\(\).)-.37 E/F3 10.95/Times-Bold@0 SF(INITIALIZA)72 153.6 Q(TION)
-1.04 E F0
(Selog should be initialized soon after the program starts by calling)
108 165.6 Q F1(selog_open\()2.5 E F2(conf).2 E(ig)-.2 E F1(,).22 E F2
(spelling)2.84 E F1(\);).22 E F0 .179(The conf)108 182.4 R .178(igurati\
on string should be obtained from the user by a command-line option or \
a conf)-.2 F(iguration)-.2 E -.2(fi)108 194.4 S .032(le setting.).2 F
.032(If the user does not pro)5.032 F .032(vide a conf)-.15 F .033
(iguration then the program may wish to pro)-.2 F .033(vide a def)-.15 F
(ault)-.1 E .194(to o)108 206.4 R -.15(ve)-.15 G .194(rride the b).15 F
.194(uilt-in def)-.2 F .194(ault described in)-.1 F F1(selog)2.694 E F0
2.694(\(7\). If)B .193(the program calls another selog function before)
2.694 F F2(selo)108.34 218.4 Q(g_open\(\),)-.1 E F0 4.759
(then selog will initialize itself with its b)7.258 F 4.759(uilt-in def)
-.2 F 7.259(ault. In)-.1 F(an)7.259 E 7.259(yc)-.15 G 4.759(ase, if the)
-7.259 F F1(SELOG_CONFIG)108 230.4 Q F0(en)4.716 E 2.216(vironment v)-.4
F 2.216(ariable is set, it o)-.25 F -.15(ve)-.15 G 2.216(rrides an).15 F
4.716(yo)-.15 G 2.216(ther conf)-4.716 F 2.216(iguration string.)-.2 F
(Selog)7.215 E -.1(ke)108 242.4 S .124(eps a pointer to the conf).1 F
.125(iguration for later use by)-.2 F F2(selo)2.965 E(g_on\(\))-.1 E F0
.125(to initialize selectors.)2.685 F .125(\(This implies that)5.125 F
(the program must not free or o)108 254.4 Q -.15(ve)-.15 G
(rwrite the memory pointed to by).15 E F2(conf)2.5 E(ig)-.2 E F0(.\)).22
E(The)108 271.2 Q F2(selo)3.983 E(g_open\(\))-.1 E F0 1.143
(function scans the conf)3.703 F 1.142
(iguration string and opens the channels it specif)-.2 F 3.642(ies. It)
-.2 F(also)3.642 E .18(checks that all the cate)108 283.2 R .18
(gories mentioned in the string are listed in the)-.15 F F2(spelling)
3.021 E F0(array)2.901 E 5.181(.Y)-.65 G .181(ou should ensure)-6.281 F
.361(that the array contains selog')108 295.2 R 2.861(sb)-.55 G .361
(uilt-in cate)-3.061 F .361(gories as well as all the cate)-.15 F .361
(gories def)-.15 F .361(ined by your program.)-.2 F -1.1(Yo)108 307.2 S
2.5(uc)1.1 G(an disable this check by passing a NULL)-2.5 E F2(spelling)
2.84 E F0(pointer)2.72 E(.)-.55 E .262(Selog can be reconf)108 324 R
.262(igured by calling)-.2 F F2(selo)3.102 E(g_open\(\))-.1 E F0(ag)
2.822 E 2.762(ain. The)-.05 F .263
(old channels are closed and all selectors)2.762 F 1.382
(are reset before the ne)108 336 R 3.882(wc)-.25 G(onf)-3.882 E 1.382
(iguration is installed.)-.2 F 1.382(Therefore reconf)6.382 F 1.382
(iguration is not seamless.)-.2 F(Note)6.381 E(also that an)108 348 Q(y)
-.15 E F2(SELOG_CONFIG)2.83 E F0(en)3 E(vironment v)-.4 E
(ariable setting still tak)-.25 E(es precedence.)-.1 E .465
(The return v)108 364.8 R .465(alue of)-.25 F F2(selo)3.305 E
(g_open\(\))-.1 E F0 .465(is 0 on success.)3.025 F .465
(If it encounters an error it sets)5.465 F F2(errno)3.155 E F0 .465
(and returns -1,)3.145 F .572(and it also reports the error using the)
108 376.8 R F1(log_conf)3.072 E(ig)-.25 E F0(selector)3.072 E 5.572(.B)
-.55 G .572(ecause selog is not fully initialized at this)-5.572 F .243
(point, the messages it controls can only be written to the standard er\
ror stream.)108 388.8 R(Ho)5.244 E(we)-.25 E -.15(ve)-.25 G 2.744(rs).15
G(elog')-2.744 E 2.744(sf)-.55 G(ilter)-2.944 E(-)-.2 E
(ing features do w)108 400.8 Q(ork.)-.1 E F3(ST)72 417.6 Q(AND)-.986 E
(ARD LIBRAR)-.383 E 2.738(YR)-.383 G(EPLA)-2.738 E(CEMENTS)-.602 E F0
.358(Selog comes with tw)108 429.6 R 2.858(oa)-.1 G .358
(uxiliary libraries that can be used to add selog')-2.858 F 2.857(sc)
-.55 G .357(hannel conf)-2.857 F .357(iguration features)-.2 F .798
(to programs that were not written to use selog.)108 441.6 R(The)5.799 E
3.299(yc)-.15 G .799(an be used by re-linking the program with the)
-3.299 F(rele)108 453.6 Q -.25(va)-.25 G .709(nt library).25 F 3.209(,o)
-.65 G 3.209(rl)-3.209 G .709
(ess permanently by running the program with)-3.209 F F1(LD_PRELO)3.209
E(AD)-.4 E F0 .709(set to the library')3.209 F(s)-.55 E -.2(fi)108 465.6
S .277(le name.).2 F .277(In either case selog')5.277 F 2.777(sr)-.55 G
.278(eplacement implementation of the functions \231interposes\232 on t\
he stan-)-2.777 F 1.039(dard C library')108 477.6 R 3.539(si)-.55 G
3.539(mplementation. Programs)-3.539 F 1.039(manipulated in this w)3.539
F 1.039(ay do not call)-.1 F F2(selo)3.879 E(g_open\(\))-.1 E F0 1.038
(so you)3.599 F(must specify non-def)108 489.6 Q(ault conf)-.1 E
(iguration using the)-.2 E F1(SELOG_CONFIG)2.5 E F0(en)2.5 E
(vironment v)-.4 E(ariable.)-.25 E .456(These libraries may also be use\
ful for programs that mostly use selog, b)108 506.4 R .457
(ut which also depend on other)-.2 F(code that calls the le)108 518.4 Q
-.05(ga)-.15 G .3 -.15(cy A).05 H(PIs.).15 E F1(selog_err)87 535.2 Q F0
1.001(This is a replacement implementation of the 4.4BSD)108 547.2 R F1
(err)3.501 E F0 1.001(\(3\) functions.)B 1.001(It def)6.001 F 1.001
(ines tw)-.2 F 3.501(os)-.1 G(electors,)-3.501 E F1({err)3.501 E(,)-.92
E -.9(FA)108 559.2 S -.9(TA)-.05 G(L}).9 E F0 .529(used by the)3.028 F
F2(err\(\))3.219 E F0 .529(functions, and)3.089 F F1({war)3.029 E .529
(n, ERR)-.15 F(OR})-.3 E F0 .529(used by the)3.029 F F2(warn\(\))3.369 E
F0 3.029(functions. \(Some)3.089 F(what)-.25 E(confusingly)108 571.2 Q
2.878(,t)-.65 G .378(he selog le)-2.878 F -.15(ve)-.25 G .378
(ls that ha).15 F .678 -.15(ve s)-.2 H .378
(imilar names to the functions ha).15 F .677 -.15(ve d)-.2 H(if).15 E
.377(ferent meanings from the)-.25 F(le)108 583.2 Q -.15(ve)-.25 G .249
(ls that correspond to the functions' actions.\)).15 F .25
(If the program calls)5.25 F F2(err_set_f)2.94 E(ile\(\))-.2 E F0 .25
(then the library just)2.81 F .001
(emits a diagnostic using the selector)108 595.2 R F1({err_set_f)2.5 E
(ile, DEB)-.25 E(UG})-.1 E F0 5(.T)C(he library does not call)-5 E F2
(selo)2.84 E(g_open\(\))-.1 E F0(so)2.56 E(relies on selog')108 607.2 Q
2.5(sd)-.55 G(ef)-2.5 E(ault conf)-.1 E(iguration.)-.2 E F1
(selog_syslog)87 624 Q F0 .873
(This is a replacement implementation of the traditional)108 636 R F1
(syslog)3.374 E F0 .874(\(3\) functions.)B .874(It def)5.874 F .874
(ines eight selectors)-.2 F .675(corresponding to the syslog se)108 648
R -.15(ve)-.25 G .674(rity le).15 F -.15(ve)-.25 G(ls,).15 E F1 .674
({syslog, DEB)3.174 F(UG})-.1 E F0 .674(up to)3.174 F F1 .674
({syslog, EMERG})3.174 F F0 5.674(.T)C .674(he selector)-5.674 F 1.245
(is determined by the f)108 660 R(irst)-.2 E F2(pri)4.995 E F0(ar)4.105
E 1.245(gument to)-.18 F F2(syslo)3.745 E(g\(\))-.1 E F0 6.245(.T).06 G
1.246(he library does not do an)-6.245 F 1.246(ything with f)-.15 F
(acilities)-.1 E .964(encoded in the)108 672 R F2(pri)4.714 E F0(ar)
3.824 E .963(gument of)-.18 F F2(syslo)3.803 E(g\(\))-.1 E F0 .963
(or with calls to)3.523 F F2(setlo)3.803 E(gmask\(\))-.1 E F0 .963
(and if either occurs the library)3.523 F .62
(emits a diagnostic using its)108 684 R F1 .62({syslog, DEB)3.12 F(UG})
-.1 E F0(selector)3.12 E 5.62(.T)-.55 G .621(he library implements the)
-5.62 F F2(ident)3.131 E F0(and)3.801 E F2(facility)5.091 E F0(ar)108
696 Q .245(guments to)-.18 F F1(openlog\(\))2.745 E F0 .245(and the)
2.745 F F1(LOG_PID)2.745 E F0(,)A F1(LOG_PERR)2.745 E(OR)-.3 E F0 2.745
(,a)C(nd)-2.745 E F1(LOG_CONS)2.745 E F0 .245(options \(though these)
2.745 F .496(can be o)108 708 R -.15(ve)-.15 G .496(rridden by the).15 F
F1(SELOG_CONFIG)2.996 E F0(en)2.996 E .496(vironment v)-.4 F 2.996
(ariable\). It)-.25 F(beha)2.996 E -.15(ve)-.2 G 2.997(sa).15 G 2.997
(si)-2.997 G(f)-2.997 E F1(LOG_NDELA)2.997 E(Y)-1 E F0(is al)108 720 Q
-.1(wa)-.1 G(ys set.).1 E F3(DIA)72 736.8 Q(GNOSTICS)-.602 E F0 .993
(This section lists the b)108 748.8 R .993
(uilt-in selectors used by selog itself.)-.2 F .992
(Selectors are written)5.992 F F1({)3.492 E F2(cate).2 E(gory)-.4 E F1
(,).32 E F2(LEVEL)4.072 E F1(}).53 E F0 .191(which is an abbre)108 760.8
R .191(viated form of the usual selector initializer)-.25 F F1
(SELINIT\(\231)2.692 E F2(cate).2 E(gory)-.4 E F1 .192(\232, SELOG_).32
F F2(LEVEL).58 E F1(\);).53 E F0 2.132(When documenting a program that \
uses selog, you should list the slectors it def)108 777.6 R 2.132
(ines in a similar)-.2 F(5)518.275 817.889 Q 0 Cg EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 383.235(selog\(3\) selog\(3\))72 48 R(manner)108
84 Q 2.5(,a)-.4 G(nd direct users to)-2.5 E/F1 10/Times-Bold@0 SF(selog)
2.5 E F0(\(7\) for documentation of the conf)A(iguration syntax.)-.2 E
F1({log_conf)108 100.8 Q(ig, ERR)-.25 E(OR})-.3 E F0 .686
(This is used by)144 112.8 R F1(selog_open\(\))3.186 E F0 .686
(to report syntax errors.)3.186 F .687
(Because it is used before selog is fully)5.687 F .258(initialized, the\
 messages it controls can only be written to the standard error stream.)
144 124.8 R(Ho)5.257 E(we)-.25 E -.15(ve)-.25 G(r).15 E(selog')144 136.8
Q 2.5(sf)-.55 G(iltering features do w)-2.7 E(ork.)-.1 E F1({err)108
153.6 Q(or)-.18 E 2.5(,F)-.92 G -1.5 -.95(AT A)-3.4 H(L}).95 E({war)108
165.6 Q(ning, ERR)-.15 E(OR})-.3 E({err_set_f)108 177.6 Q(ile, DEB)-.25
E(UG})-.1 E F0(These are used by the)144 189.6 Q F1(selog_err)2.5 E F0
(library \(see abo)2.5 E -.15(ve)-.15 G(\).).15 E F1({syslog, DEB)108
206.4 Q(UG})-.1 E({syslog, INFO})108 218.4 Q({syslog, NO)108 230.4 Q
(TICE})-.4 E({syslog, W)108 242.4 Q(ARNING})-1.2 E({syslog, ERR)108
254.4 Q(OR})-.3 E({syslog, CRITICAL})108 266.4 Q({syslog, ALER)108 278.4
Q(T})-.4 E({syslog, EMERGENCY})108 290.4 Q F0(These are used by the)144
302.4 Q F1(selog_syslog)2.5 E F0(library \(see abo)2.5 E -.15(ve)-.15 G
(\).).15 E/F2 10.95/Times-Bold@0 SF(ENVIR)72 319.2 Q(ONMENT)-.329 E F1
(SELOG_CONFIG)108 331.2 Q F0(Ov)144 343.2 Q(errides the conf)-.15 E
(iguration string pro)-.2 E(vided to)-.15 E/F3 10/Times-Italic@0 SF
(selo)2.84 E(g_open\(\).)-.1 E F2(EXIT ST)72 360 Q -1.04(AT)-.986 G(US)
1.04 E F0 1.128
(When the program uses a selector that is initialized using the)108 372
R F1(SELOG_F)3.628 E -1.5 -.95(AT A)-.9 H(L\().95 E F3(status).34 E F1
(\)).27 E F0 1.129(macro, selog)3.628 F -.15(ex)108 384 S
(its the program with the gi).15 E -.15(ve)-.25 G 2.5(ns).15 G
(tatus code.)-2.5 E F2(SEE ALSO)72 400.8 Q F1(abort)108 412.8 Q F0
(\(3\),)A F1(atexit)2.5 E F0(\(3\),)A F1(err)2.5 E F0(\(3\),)A F1(exit)
2.5 E F0(\(3\),)A F1(printf)2.5 E F0(\(3\),)A F1(selog)2.5 E F0(\(7\),)A
F1(syslog)2.5 E F0(\(3\),)A F1(vsnprintf)2.5 E F0(\(3\).)A F2 -.548(AU)
72 429.6 S(THOR).548 E F0(Written by T)108 441.6 Q(on)-.8 E 2.5(yF)-.15
G(inch <dot@dotat.at> <f)-2.5 E(anf2@cam.ac.uk>)-.1 E(at the Uni)108
453.6 Q -.15(ve)-.25 G(rsity of Cambridge Computing Service.).15 E
(Source a)108 465.6 Q -.25(va)-.2 G
(ilable from <http://dotat.at/prog/selog>).25 E(6)518.275 817.889 Q 0 Cg
EP
%%Trailer
end
%%EOF
