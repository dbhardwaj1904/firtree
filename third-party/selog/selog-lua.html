          <!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>selog(lua) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>
 
<h2><a name='sect0' href='#toc0'>Name</a></h2>
selog - selective logging  
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<b>require</b> "selog" <p>
-- intialization
<br>
selog.open(<i>config</i>)<i></i> <br>
selog.open(<i>config</i>, {<i>name1</i>, <i>name2</i>, ...})<i></i> <p>
-- creating selectors <br>
<b>local</b> <i>sel</i> = selog.new(<i>name</i>, <i>level</i>)<i></i> <br>
<b>local</b> <i>sel</i> = selog(<i>name</i>, <i>level</i>)<i></i> <br>
<b>local</b> <i>sel</i> = selog(<i>name</i>,<i></i> &ldquo;fatal(<i>status</i>)&rdquo;)  <br>
<b>local</b> <i>sel</i> = selog(<i>name</i>,<i></i> &ldquo;fatal&rdquo;,  <i>status</i>) <p>
-- inspecting selectors <br>
<b>local</b> <i>name</i> = sel.name <br>
<b>local</b> <i>level</i> = sel.level <br>
<b>local</b> <i>status</i> = sel.exitval <p>
<b>if</b> sel.on <b>then</b> ... <b>end</b> <p>
-- logging <br>
sel(<i>message...</i>)<i></i>  
<h2><a name='sect2' href='#toc2'>Description</a></h2>
Selog is a library of routines that unifies error
reporting, activity logging, and debug tracing. It allows programmers to
give their users flexible control over which messages are written and where
they are written to. <p>
This manual Lua interface to selog by reference to
the C manual, <i><b>selog</b>(3)</i>, and the end-user manual, <i><b>selog</b>(7)</i>.  
<h3><a name='sect3' href='#toc3'>Initialization</a></h3>
To
configure and reconfigure selog, call <b>selog.open()</b> passing the configuration
string as the first argument. The configuration syntax and other details
are described in <i><b>selog</b>(7)</i>. If you want selog to check the category names
in the configuration, you should pass an array-like table as the second
argument that lists all the valid names. More details can be found in the
&ldquo;INITIALIZATION&rdquo;  section of <i><b>selog</b>(3)</i>.  
<h3><a name='sect4' href='#toc4'>Creating selectors</a></h3>
Logging is performed
using selectors, which are created by calling <b>selog.new()</b> or just <b>selog()</b>
itself. This takes two string arguments: the selector&rsquo;s category <i>name</i> and
its <i>level</i>. More details can be found in the &ldquo;SELECTORS&rdquo;  section of <i><b>selog</b>(3)</i>.
The string equivalents for the levels are listed in <i><b>selog</b>(7)</i>. To specify
the exit status of a &ldquo;fatal&rdquo;  selector, you can either put it in round brackets
at the end of the level string, or you can pass it as a third argument.
 
<h3><a name='sect5' href='#toc5'>Inspecting selectors</a></h3>
You can extract information about a selector by treating
it like a table. The available keys are: 
<dl>

<dt><b>exitval</b> </dt>
<dd>The exit status for &ldquo;fatal&rdquo;
 selectors, and <b>nil</b> for others. </dd>

<dt><b>level</b> </dt>
<dd>The canonical name of the selector&rsquo;s
level. </dd>

<dt><b>name</b> </dt>
<dd>The category name given when the selector was created. </dd>

<dt><b>on</b> </dt>
<dd>A boolean
value that is true if the selector is enabled. This can be used to disable
message preparation code when a selector is disabled.  </dd>
</dl>

<h3><a name='sect6' href='#toc6'>Logging</a></h3>
To log a message,
just call the selector. The arguments are concatenated with spaces between.
If the selector&rsquo;s level is &ldquo;trace&rdquo;  then the message includes debug information
about the caller.  
<h2><a name='sect7' href='#toc7'>See Also</a></h2>
<i><b>selog</b>(3)</i>, <i><b>selog</b>(7)</i>  
<h2><a name='sect8' href='#toc8'>Author</a></h2>
Written by Tony Finch
&lt;dot@dotat.at&gt; &lt;fanf2@cam.ac.uk&gt; <br>
at the University of Cambridge Computing Service. <br>
Source available from &lt;<i>http://dotat.at/prog/selog</i>&gt;   <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<ul>
<li><a name='toc3' href='#sect3'>Initialization</a></li>
<li><a name='toc4' href='#sect4'>Creating selectors</a></li>
<li><a name='toc5' href='#sect5'>Inspecting selectors</a></li>
<li><a name='toc6' href='#sect6'>Logging</a></li>
</ul>
<li><a name='toc7' href='#sect7'>See Also</a></li>
<li><a name='toc8' href='#sect8'>Author</a></li>
</ul>
</body>
</html>
